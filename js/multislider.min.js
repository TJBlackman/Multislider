/*
*   MultiSlider | MIT License
*
*   Copyright (c) 2017 Trevor Blackman
*   http://www.multislider.info
*
*/

!function(a){a.fn.multislider=function(b,c){function s(){y(),z(),w(),A()}function t(){window.innerWidth>p.pauseAbove&&d.addClass("ms-PAUSE"),a(window).on("resize",function(){window.innerWidth>p.pauseAbove?d.addClass("ms-PAUSE"):d.removeClass("ms-PAUSE")})}function u(){window.innerWidth<p.pauseBelow&&d.addClass("ms-PAUSE"),a(window).on("resize",function(){window.innerWidth<p.pauseBelow?d.addClass("ms-PAUSE"):d.removeClass("ms-PAUSE")})}function v(a){void 0!==d.data(a)?d.data(a)():console.error("Multislider currently only accepts the following methods: next, prev, pause, play")}function w(){d.data({pause:function(){d.addClass("ms-PAUSE")},unPause:function(){d.removeClass("ms-PAUSE")},continuous:function(){d.removeClass("ms-PAUSE"),K()},next:function(){x(N)},nextAll:function(){x(L)},prev:function(){x(O)},prevAll:function(){x(M)},settings:p})}function x(a){d.hasClass("ms-PAUSE")?(d.removeClass("ms-PAUSE"),a(),d.addClass("ms-PAUSE")):a(),D()}function y(){e.contents().filter(function(){return 3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove()}function z(){o=p||{continuous:!1,slideAll:!1,interval:2e3,duration:500,hoverPause:!0,pauseAbove:null,pauseBelow:null},p=a.extend({},o,b),B(),q=p.duration,p.hoverPause&&H(),!0!==p.continuous&&0!==p.interval&&!1!==p.interval&&!1!==p.autoSlide&&C(),null!==p.pauseAbove&&"number"==typeof p.pauseAbove&&t(),null!==p.pauseBelow&&"number"==typeof p.pauseBelow&&u()}function A(){p.continuous?(p.autoSlide=!1,K()):p.slideAll?(m=d.data("prevAll"),n=d.data("nextAll")):(m=d.data("prev"),n=d.data("next"))}function B(){E(),l=h.width();var a=parseInt(e.find(".item:first").css("padding-left")),b=parseInt(e.find(".item:first").css("padding-right"));0!==a&&(l+=a),0!==b&&(l+=b)}function C(){r=setInterval(function(){d.hasClass("ms-PAUSE")||n()},p.interval)}function D(){0!==p.interval&&!1!==p.interval&&!0!==p.continuous&&(clearInterval(r),C())}function E(){h=e.find(".item:first"),i=e.find(".item:last")}function F(a){d.hasClass("ms-animating")||d.hasClass("ms-HOVER")||d.hasClass("ms-PAUSE")||(d.trigger("ms.before.animate"),d.addClass("ms-animating"),a())}function G(){d.hasClass("ms-animating")&&(d.removeClass("ms-animating"),d.trigger("ms.after.animate"))}function H(){p.continuous?(e.on("mouseover",function(){G(),e.children(".item:first").stop()}),e.on("mouseout",function(){K()})):(e.on("mouseover",function(){d.addClass("ms-HOVER")}),e.on("mouseout",function(){d.removeClass("ms-HOVER")}))}function I(){q=p.duration;var a=parseFloat(e.find(".item:first").css("margin-left"));q*=1-a/-(l-1)}function J(){j=e.width(),k=Math.round(j/l)}function K(){F(function(){E(),I(),h.animate({marginLeft:-(l+1)},{duration:q,easing:"linear",complete:function(){h.insertAfter(i).removeAttr("style"),G(),K()}})})}function L(){F(function(){E(),J();var b=e.children(".item").clone(),c=b.splice(0,k);e.append(c),h.animate({marginLeft:-j},{duration:q,easing:"swing",complete:function(){a(e.children(".item").splice(0,k)).remove(),G()}})})}function M(){F(function(){E(),J();var b=e.children(".item").length,c=e.children(".item").clone(),d=c.splice(b-k,b);a(a(d)[0]).css("margin-left",-j),e.prepend(d),E(),h.animate({marginLeft:0},{duration:q,easing:"swing",complete:function(){b=e.find(".item").length,a(e.find(".item").splice(b-k,b)).remove(),h.removeAttr("style"),G()}})})}function N(){F(function(){E(),h.animate({marginLeft:-l},{duration:q,easing:"swing",complete:function(){h.detach().removeAttr("style").appendTo(e),G()}})})}function O(){F(function(){E(),i.css("margin-left",-l).prependTo(e),i.animate({marginLeft:0},{duration:q,easing:"swing",complete:function(){i.removeAttr("style"),G()}})})}var d=a(this),e=d.find(".MS-content"),f=d.find("button.MS-right"),g=d.find("button.MS-left"),h=e.find(".item:first");if("string"==typeof b)return v(b),d;"object"!=typeof b&&void 0!==b||s();var i,j,k,l,m,n,o,p,q,r;return f.on("click",n),g.on("click",m),d.on("click",".MS-right, .MS-left",D),a(window).on("resize",B),d}}(jQuery);
